<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>尚品汇商品页面</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div class="outer">
        <!-- 窗口侧边工具栏 -->
        <div class="toolbar toolbar-wrap">
            <!-- 侧边栏的内容 -->
            <div class="content"></div>
            <!-- 面包屑开关 -->
            <div class="but list"></div>
            <!-- 中间工具栏 -->
            <ul class="toolList">
                <li class="pull">
                    <i class="tab-icon vip"></i>
                    <em>尚品会员</em>
                </li>
                <li class="pull">
                    <i class="tab-icon cart"></i>
                    <em>购物车</em>
                </li>
                <li class="pull">
                    <i class="tab-icon follow"></i>
                    <em>我的关注</em>
                </li>
                <li class="pull">
                    <i class="tab-icon history"></i>
                    <em>我的足迹</em>
                </li>
                <li class="pull">
                    <i class="tab-icon message"></i>
                    <em>我的消息</em>
                </li>
                <li class="pull">
                    <i class="tab-icon qus"></i>
                    <em>咨询</em>
                </li>
            </ul>
            <div class="back pull">
                <i class="tab-icon top"></i>
                <em>顶部</em>
            </div>

        </div>
        <!-- 头部 -->
        <header class="header">
            <!-- 头部第一行 -->
            <div class="top">
                <div class="container">
                    <div class="loginList">
                        <p>尚品汇欢迎您! </p>
                        <p>
                            <span>请</span>
                            <a href="###">登录</a>
                        </p>
                        <p>
                            <a href="###" class="register">免费注册</a>
                        </p>
                    </div>
                    <div class="typelist">
                        <a href="###">我的订单</a>
                        <a href="###">我的购物车</a>
                        <a href="###">我的尚品汇</a>
                        <a href="###">尚品汇会员</a>
                        <a href="###">企业采购</a>
                        <a href="###">关注尚品汇</a>
                        <a href="###">合作招商</a>
                        <a href="###">商家后台</a>
                    </div>
                </div>
            </div>
            <!-- 头部第二行 搜索区域 -->
            <div class="bottom">
                <h1 class="logoArea">
                    <a href="###" class="logo" title="尚品汇" target="_blank">
                        <img src="./images/Logo.png" alt="尚品汇">
                    </a>
                </h1>
                <div class="searchArea">
                    <form action="###" class="searchForm">
                        <input type="text" class="inputSearch">
                        <button type="submit">搜索</button>
                    </form>
                </div>
            </div>
        </header>
        <!-- 商品导航分类 -->
        <div class="typeNav">
            <div class="container">
                <h2 class="all">全部商品分类</h2>
                <nav class="nav">
                    <a href="###">服装城</a>
                    <a href="###">美妆馆</a>
                    <a href="###">尚品汇超市</a>
                    <a href="###">全球购</a>
                    <a href="###">闪购</a>
                    <a href="###">团购</a>
                    <a href="###">有趣</a>
                    <a href="###">秒杀</a>
                </nav>
            </div>
        </div>
        <!-- 商品主要内容区域 -->
        <section class="con">
            <!-- 上面导航区域 -->
            <div class="conPoin">
               
            </div>
            <!-- 主要内容区域 -->
            <div class="mainCon">
                <!-- 左侧放大镜区域 -->
                <div class="previewWrap">
                    <!-- 放大镜效果 -->
                    <div class="preview">
                        <div class="jqzoom">
                            <img src="./images/s1.png">
                        </div>
                    </div>
                    <!-- 缩略图 -->
                    <div class="specScroll">
                        <a class="prev">&lt;</a>
                        <div class="items">
                            <div class="itemsCon">
                               
                            </div>
                        </div>
                        <a class="next">&gt;</a>
                    </div>
                </div>
                <!-- 商品内容右侧选择区域 -->
                <div class="infoWrap">
                    <div class="info1">
                       
                    </div>
                    <div class="choose">
                        <div class="chooseArea">
                           <div class="choosed">
                           </div>
                        </div>
                        <div class="cartWrap">
                            <div class="controls">
                                <input type="text" value="1" class="itxt">
                                <a href="###" class="plus">+</a>
                                <a href="###" class="mins">-</a>
                            </div>
                            <div class="add">
                                <a href="###" target="_blank">加入购物车</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section>
        <!-- 商品详情页 -->
        <section class="productDetail">
            <aside class="aside">
                <!-- 选项卡切换标题 -->
                <div class="tabWraped">
                    <h4 class="active">相关分类</h4>
                    <h4>推荐品牌</h4>
                </div>
                <!-- 选线卡的内容 -->
                <div class="tabContent">
                    <div class="tab-pane active">
                        <ul class="partList">
                            <li>手机</li>
                            <li>手机壳</li>
                            <li>内存卡</li>
                            <li>iPhone配件</li>
                            <li>贴膜</li>
                            <li>手机耳机</li>
                            <li>移动电源</li>
                            <li>平板电脑</li>
                        </ul>
                        <ul class="goodsList">
                            <li>
                                <div class="p-img">
                                    <img src="./images/part01.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <div class="operate">
                                    <a href="###">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="p-img">
                                    <img src="./images/part02.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <div class="operate">
                                    <a href="###">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="p-img">
                                    <img src="./images/part03.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <div class="operate">
                                    <a href="###">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="p-img">
                                    <img src="./images/part01.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <div class="operate">
                                    <a href="###">加入购物车</a>
                                </div>
                            </li>
                            <li>
                                <div class="p-img">
                                    <img src="./images/part02.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <div class="operate">
                                    <a href="###">加入购物车</a>
                                </div>
                            </li>
                        </ul>
                    
                    
                    </div>
                    <div class="tab-pane">
                        推荐品牌
                    </div>
                </div>
            </aside>
            <div class="detail">
                <div class="fitting"> 
                    <h4 class="kt">选择搭配</h4>
                    <div class="good-suits">
                        <div class="master">
                            <img src="./images/l-m01.png" alt="">
                            <p>¥5299</p>
                            <i>+</i>
                        </div>
                        <ul class="suits">
                            <li class="suitsItem">
                                <img src="./images/dp01.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                             </li>
                             <li class="suitsItem">
                                <img src="./images/dp02.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="50">
                                    <span>50</span>
                                </label>
                             </li>
                             <li class="suitsItem">
                                <img src="./images/dp03.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="59">
                                    <span>59</span>
                                </label>
                             </li>
                             <li class="suitsItem">
                                <img src="./images/dp04.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="99">
                                    <span>99</span>
                                </label>
                             </li>
                        </ul>
                        <div class="result">
                            <div class="num">已选购0件商品</div>
                            <p class="price-tit">套餐价</p>
                            <p class="price">¥5299</p>
                            <button class="addShopcar">加入购物车</button>
                        </div>
                    </div>
                </div>
                <div class="intro">
                    <ul class="tab-wraped">
                        <li class="active">
                            <a href="###">商品介绍</a>
                        </li>
                        <li class="">
                            <a href="###">规格与包装</a>
                        </li>
                        <li class="">
                            <a href="###">售后保障</a>
                        </li>
                        <li class="">
                            <a href="###">商品评价</a>
                        </li>
                        <li class="">
                            <a href="###">手机社区</a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div id="one" class="tab-pane active">
                            <ul class="goods-intro">
                                <li>分辨率：1920*1080(FHD)</li>
                                <li>后置摄像头：1200万像素</li>
                                <li>前置摄像头：500万像素</li>
                                <li>核 数：其他</li>
                                <li>频 率：以官网信息为准</li>
                                <li>品牌： Apple</li>
                                <li>商品名称：APPLEiPhone 6s Plus</li>
                                <li>商品编号：1861098</li>
                                <li>商品产地：中国大陆</li>
                                <li>商品毛重：0.51kg</li>
                                <li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
                                <li>系统：苹果（IOS）</li>
                                <li>像素：1000-1600万</li>
                                <li>机身内存：64GB</li>
                            </ul>
                            <div class="intro-detail">
                                <img src="images/intro01.png" alt="">
                                <img src="images/intro02.png" alt="">
                                <img src="images/intro03.png" alt="">
                            </div>
                        </div>
                       
                        <div id="two" class="tab-pane">规格与包装</div>
                        <div id="three" class="tab-pane">售后保障</div>
                        <div id="four" class="tab-pane">商品评价</div>
                        <div id="five" class="tab-pane">手机社区</div>
                    </div>
                </div>
            </div>
        </section>
        <div class="like">
            <h4 class="like-title">猜你喜欢</h4>
            <ul class="goods-show">
                <li>
                    <img src="./images/itemlike01.png" alt="">
                    <p class="desc">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">¥3699</p>
                    <p class="eval">已有6456人评价</p>
                </li>
                <li>
                    <img src="./images/itemlike02.png" alt="">
                    <p class="desc">Apple苹果iPhone 6s/6s Plus 16G 64G 128G</p>
                    <p class="price">¥4388</p>
                    <p class="eval">已有4565人评价</p>
                </li>
                <li>
                    <img src="./images/itemlike03.png" alt="">
                    <p class="desc">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">¥3699</p>
                    <p class="eval">已有2415人评价</p>
                </li>
                <li>
                    <img src="./images/itemlike04.png" alt="">
                    <p class="desc">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">¥4088</p>
                    <p class="eval">已有6524人评价</p>
                </li>
                <li>
                    <img src="./images/itemlike05.png" alt="">
                    <p class="desc">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">¥3699</p>
                    <p class="eval">已有6456人评价</p>
                </li>
                <li>
                    <img src="./images/itemlike06.png" alt="">
                    <p class="desc">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">¥3699</p>
                    <p class="eval">已有7754人评价</p>
                </li>
            </ul>
        </div>
        <footer class="footer">
            <ul class="service">
                <li class="service-item">
                    <h4>购物指南</h4>
                    <p>购物流程</p>
                    <p>会员介绍</p>
                    <p>生活旅行/团购</p>
                    <p>常见问题</p>
                    <p>购物指南</p>
                </li>
                <li class="service-item">
                    <h4>上门自提</h4>
                    <p>211限时达</p>
                    <p>配送服务查询</p>
                    <p>配送费收取标准</p>
                    <p>海外配送</p>
                </li>
                <li class="service-item">
                    <h4>支付方式</h4>
                    <p>货到付款</p>
                    <p>在线支付</p>
                    <p>分期付款</p>
                    <p>邮局汇款</p>
                    <p>公司转账</p>
                </li>
                <li class="service-item">
                    <h4>售后服务</h4>
                    <p>售后政策</p>
                    <p>价格保护</p>
                    <p>退款说明</p>
                    <p>返修/退换货</p>
                    <p>取消订单</p>
                </li>
                <li class="service-item">
                    <h4>特色服务</h4>
                    <p>夺宝岛</p>
                    <p>DIY装机</p>
                    <p>延保服务</p>
                    <p>尚品汇E卡</p>
                    <p>尚品汇通信</p>
                </li>
                <li class="service-item">
                    <h4>帮助中心</h4>
                   <img src="./images/wx_cz.jpg" alt="">
                </li>
            </ul>
            <div class="about">
                <ul class="about-us">
                    <li>关于我们
                        <span class="space"></span>
                    </li>
                    <li>联系我们
                        <span class="space"></span>
                    </li>
                    <li>关于我们
                        <span class="space"></span>
                    </li>
                    <li>商家入驻
                        <span class="space"></span>
                    </li>
                    <li>营销中心
                        <span class="space"></span>
                    </li>
                    <li>友情链接
                        <span class="space"></span>
                    </li>
                    <li>关于我们
                        <span class="space"></span>
                    </li>
                    <li>营销中心
                        <span class="space"></span>
                    </li>
                    <li>友情链接
                        <span class="space"></span>
                    </li>
                    
                </ul>
                <p>地址：北京市昌平区宏福科技园综合楼6层<p>
                <p>京ICP备19006430号</p>
            </div>
        </footer>
    </div>
    <script src="./js/data.js"></script>
    <script>
        window.addEventListener("DOMContentLoaded", function () {
            var magnifierImgID = 0;
            var goodsChangeNum = 1;
            magnifier();
            function magnifier() {
                var imgsrc = goodData.imgsrc;
                var oJqzoomImg = document.querySelectorAll(".outer .con .mainCon .previewWrap .preview .jqzoom img");
                oJqzoomImg.src = imgsrc[magnifierImgID].s;
                var oPreview = document.querySelector(".outer .con .mainCon .previewWrap .preview");
                var oJqzoom = document.querySelector(".outer .con .mainCon .previewWrap .preview .jqzoom");
                var oMask = null;
                var oMaxBox = null;
                var oMaxImg = null;
                oPreview.onmouseenter = function () {
                    if (!oMask) {
                        oMask = document.createElement("div");
                        oMask.className = "mask";
                        oJqzoom.appendChild(oMask);
                    }
                    if (!oMaxBox) {
                        oMaxBox = document.createElement("div");
                        oMaxBox.className = "maxbox";
                        oMaxImg = new Image();
                        oMaxImg.src = imgsrc[magnifierImgID].b;
                        oMaxBox.appendChild(oMaxImg);
                        oPreview.appendChild(oMaxBox);
                    }
                    oJqzoom.onmousemove = function (e) {
                        var maskPosition = {
                            left: e.clientX - oMask.offsetWidth / 2 - oJqzoom.getBoundingClientRect().left,
                            top: e.clientY - oMask.offsetHeight / 2 - oJqzoom.getBoundingClientRect().top,
                        }
                        if (maskPosition.left > oJqzoom.clientWidth - oMask.offsetWidth) {
                            maskPosition.left = oJqzoom.clientWidth - oMask.offsetWidth;
                        } else if (maskPosition.left < 0) {
                            maskPosition.left = 0;
                        }
                        if (maskPosition.top > oJqzoom.clientHeight - oMask.offsetHeight) {
                            maskPosition.top = oJqzoom.clientHeight - oMask.offsetHeight;
                        } else if (maskPosition.top < 0) {
                            maskPosition.top = 0;
                        }
                        oMask.style.left = maskPosition.left + "px";
                        oMask.style.top = maskPosition.top + "px";
                        var scale = (oJqzoom.clientWidth - oMask.offsetWidth) / (oMaxImg.offsetWidth - oMaxBox.clientWidth)
                        var maxPosition = {
                            left: maskPosition.left / scale,
                            top: maskPosition.top / scale,
                        }
                        oMaxImg.style.marginLeft = - maxPosition.left + "px";
                        oMaxImg.style.marginTop = - maxPosition.top + "px";

                    }
                    oPreview.onmouseleave = function () {
                        oJqzoom.removeChild(oMask);
                        oPreview.removeChild(oMaxBox);
                        oMask = null;
                        oMaxBox = null;
                        oMaxImg = null;
                        oJqzoom.onmousemove = null;
                        oPreview.onmouseleave = null;
                    }

                }

            }
            function getStyle(obj, attr) {
                if (obj.currentStyle) {
                    return obj.currentStyle[attr];
                } else {
                    return document.defaultView.getComputedStyle(obj, null)[attr];
                }
            }
            thumbnail();
            function thumbnail() {
                var oScrollDiv = document.querySelector(".outer .con .mainCon .previewWrap .specScroll .items .itemsCon");
                var imgSrc = goodData.imgsrc;
                imgSrc.forEach(function(item){
                    var oImg = new Image();
                    oImg.src = item.s;
                    oScrollDiv.appendChild(oImg);
                })
                var oScrollItems = document.querySelectorAll(".outer .con .mainCon .previewWrap .specScroll .items .itemsCon img");
                
                var oNext = document.querySelector(".outer .con .mainCon .previewWrap .specScroll .next");
                var oPrev = document.querySelector(".outer .con .mainCon .previewWrap .specScroll .prev");
                var tempLength = 0;
                var viewNum = 5;
                var moveNum = 2;
                var countLength = (oScrollItems.length - viewNum) * (oScrollItems[0].offsetWidth + parseInt(getStyle(oScrollItems[0], "marginRight")));
                var moveLength = (oScrollItems[0].offsetWidth + parseInt(getStyle(oScrollItems[0], "marginRight"))) * moveNum;
                oScrollDiv.style.transition = "all 0.3s linear";
                oNext.onclick = function () {
                    if (tempLength < countLength) {
                        if (countLength - tempLength > moveLength) {
                            tempLength += moveLength;
                            oScrollDiv.style.left = -tempLength + "px";
                        } else {
                            tempLength += (countLength - tempLength);
                            oScrollDiv.style.left = -tempLength + "px";
                        }
                    }
                }
                oPrev.onclick = function () {
                    if (tempLength > 0) {
                        if (tempLength > moveLength) {
                            tempLength -= moveLength;
                            oScrollDiv.style.left = -tempLength + "px";
                        } else {
                            tempLength = 0;
                            oScrollDiv.style.left = -tempLength + "px";
                        }
                    }
                }
            }
            thumbnailClick();
            function thumbnailClick() {
                var oScollItems = document.querySelectorAll(".outer .con .mainCon .previewWrap .specScroll .items .itemsCon img");
                var oJqzoomImg = document.querySelector(".outer .con .mainCon .previewWrap .preview .jqzoom img");
                for (var i = 0; i < oScollItems.length; i++) {
                    oScollItems[i].onclick = function () {
                        for (var i = 0; i < oScollItems.length; i++) {
                            if (oScollItems[i] == this) {
                                magnifierImgID = i;
                                oJqzoomImg.src = this.src;
                            }
                        }
                    }


                }
            }
            screening();
            function screening() {
                var crumbData = goodData.goodsDetail.crumbData;
                var oChooseDetail = document.querySelector(".outer .con .mainCon .infoWrap .choose .chooseArea");
                crumbData.forEach(function(item,index,array){
                    var oDl = document.createElement("dl");
                    var oDt = document.createElement("dt");
                    oDt.innerHTML = item.title;
                    oDl.appendChild(oDt);
                    item.data.forEach(function(item){
                        var oDd = document.createElement("dd");
                        oDd.setAttribute("changePrice",item.changePrice);
                        oDd.innerHTML = item.type;
                        oDl.appendChild(oDd);
                    })
                    oChooseDetail.appendChild(oDl);
                })
                var oDl = oChooseDetail.getElementsByTagName('dl');
                var arr = new Array(crumbData.length);
                arr.fill(0);
                for(var i = 0; i < oDl.length; i++){
                    oDl[i].index = i;
                    ~function(){
                        var oDd = oDl[i].getElementsByTagName("dd");
                        for(var j = 0; j < oDd.length; j++){
                            oDd[j].onclick = function(){
                                for(var i = 0; i < oDd.length; i++){
                                    oDd[i].style.color = "#666";
                                }
                                this.style.color = "red";
                                arr[this.parentNode.index] = this;
                                priceSum(arr);
                                var oChoosed = document.querySelector(".outer .con .mainCon .infoWrap .choose .chooseArea .choosed")
                                oChoosed.innerHTML = "";
                                arr.forEach(function(item,index){
                                    if(item){
                                        var oChoMark = document.createElement("mark");
                                        oChoMark.innerHTML = item.innerHTML;
                                        var oCxa = document.createElement("a");
                                        oCxa.setAttribute("num",index);
                                        oCxa.innerHTML = "X";
                                        oChoMark.appendChild(oCxa);
                                        oChoosed.appendChild(oChoMark);
                                    }
                                })
                                var oChoseA = oChoosed.querySelectorAll("mark a");
                                for(var i = 0; i < oChoseA.length; i++){
                                    oChoseA[i].onclick = function(){
                                        var num = parseInt(this.getAttribute("num"));
                                        this.parentNode.parentNode.removeChild(this.parentNode);
                                        var oDlDd = oDl[num].querySelectorAll("dd");
                                        for(var i = 0; i < oDlDd.length; i++){
                                            oDlDd[i].style.color = "#666";
                                        }
                                        oDl[num].querySelector("dd:nth-of-type(1)").style.color = "red";
                                        arr[num] = 0;
                                        priceSum(arr);
                                    }
                                } 
                            }
                        }
                    }()

                }
                function priceSum(arr){
                    var newPrice = goodData.goodsDetail.price * goodsChangeNum;
                    arr.forEach(function(item,index){
                        if(item){
                            newPrice += parseInt(item.getAttribute("changePrice")) * goodsChangeNum; 
                        }
                    })
                    var oPrice = document.querySelector(".outer .con .mainCon .infoWrap .info1 .priceArea .priceArea1 .price em");
                    oPrice.innerHTML = newPrice;
                    var choosePrice = document.querySelector(".outer .productDetail .detail .fitting .good-suits .master p");
                    choosePrice.innerHTML = "¥" + newPrice;
                    var choosePrice = newPrice;
                    var oChooseAllPrice = document.querySelector(".good-suits .result .price");
                    var oChooseAllCheckBoxs = document.querySelectorAll(".good-suits .suits input[type=checkbox]");
                    oChooseAllCheckBoxs.forEach(function(item,index){
                        if(item.checked){
                            choosePrice += parseInt(item.value); 
                        }
                    })
                    oChooseAllPrice.innerHTML = "¥" + choosePrice;
                }
            }
            goodsNum();
            function goodsNum(){
                var oPlus = document.querySelector(".outer .con .mainCon .infoWrap .choose .cartWrap .controls .plus");
                var oMins = document.querySelector(".outer .con .mainCon .infoWrap .choose .cartWrap .controls .mins");
                var oItxt = document.querySelector(".outer .con .mainCon .infoWrap .choose .cartWrap .controls .itxt");
                
                oPlus.onclick = function(){
                    goodsChangeNum++;
                    oItxt.value = goodsChangeNum;
                    var oPrice = document.querySelector(".outer .con .mainCon .infoWrap .info1 .priceArea .priceArea1 .price em");
                    var finalPrice = oPrice.innerHTML / (goodsChangeNum - 1) * goodsChangeNum;
                    oPrice.innerHTML = finalPrice;
                    changeFittingPrice(finalPrice);
                }
                oMins.onclick = function(){
                    if(goodsChangeNum > 1){
                        goodsChangeNum--;
                        oItxt.value = goodsChangeNum;
                        var oPrice = document.querySelector(".outer .con .mainCon .infoWrap .info1 .priceArea .priceArea1 .price em");
                        var finalPrice = oPrice.innerHTML / (goodsChangeNum + 1) * goodsChangeNum;
                        oPrice.innerHTML = finalPrice;
                        changeFittingPrice(finalPrice);
                    }
                    
                }
                function changeFittingPrice(finalPrice){
                    var choosePrice = document.querySelector(".good-suits .master p");
                    choosePrice.innerHTML = "¥" + finalPrice;
                    var oChooseAllPrice = document.querySelector(".good-suits .result .price");
                    var oChooseAllCheckBoxs = document.querySelectorAll(".good-suits .suits input[type=checkbox]");
                    oChooseAllCheckBoxs.forEach(function(item,index){
                        if(item.checked){
                            finalPrice += parseInt(item.value); 
                        }
                    })
                    oChooseAllPrice.innerHTML = "¥" + finalPrice;
                }
            }
            pathUrl();
            function pathUrl(){
                var oConPoin = document.querySelector(".outer .con .conPoin");
                var urlCon = goodData.path;
                urlCon.forEach(function(item,index){
                    var oA = document.createElement("a");
                    if(index == urlCon.length - 1 ){
                        oA.innerHTML = item.title;
                        oConPoin.appendChild(oA);
                    }else {
                        oA.href = item.url;
                        oA.innerHTML = item.title;
                        oConPoin.appendChild(oA);
                    }
                })
            }
            goodsDetail();
            function goodsDetail(){
                var oInfo1 = document.querySelector(".outer .con .mainCon .infoWrap .info1");
                var goodsCon = goodData.goodsDetail;
                var oInfo1Content = ` 
                <h3 class="infoName">${goodsCon.title}</h3>
                        <p class="news">${goodsCon.recommend}</p>
                        <div class="priceArea">
                            <div class="priceArea1">
                                <div class="title">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</div>
                                <div class="price">
                                    <i>¥</i>
                                    <em>${goodsCon.price}</em>
                                    <span>降价通知</span>
                                </div>
                                <div class="remark">
                                    <i>累计评价</i>
                                    <span>${goodsCon.evaluateNum}</span>
                                </div>
                            </div>
                            <div class="priceArea2">
                                <div class="title">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</div>
                                <div class="fixWidth">
                                    <i class="red-bg">${goodsCon.promoteSales.type}</i>
                                    <em
                                        class="t-gray">${goodsCon.promoteSales.content}</em>
                                </div>
                            </div>
                        </div>
                        <div class="support">
                            <div class="supportArea">
                                <div class="title">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</div>
                                <div class="fixWidth">${goodsCon.support}</div>
                            </div>
                            <div class="supportArea">
                                <div class="title">配&nbsp;送&nbsp;至</div>
                                <div class="fixWidth">${goodsCon.address}</div>
                            </div>
                        </div>`;
                        oInfo1.innerHTML = oInfo1Content;
            }
           

            //8.选项卡切换的封装
            // 使用面向对象方法：构造函数+原型 方法
            //两个参数  对应的是标题和内容
            function Tab(btn,content){
                this.tabBtn = btn;
                this.tabDiv = content;
                for(var i = 0; i < this.tabBtn.length; i++){
                    this.tabBtn[i].index = i;
                    var _this = this;
                    this.tabBtn[i].onclick = function(){
                        _this.clickBtn(this);
                    }
                }
            }
            Tab.prototype.clickBtn = function(btn){
                for (var i = 0; i < this.tabBtn.length; i++) {
                    this.tabBtn[i].className = "";
                    this.tabDiv[i].style.display = "none";
                }
                btn.className = "active";
                this.tabDiv[btn.index].style.display = "block";
            }
            asideNav();
            function asideNav() {
                var oTabBtn = document.querySelectorAll(".tabWraped h4");
                var oTabPane = document.querySelectorAll(".tabContent .tab-pane");
                
                new Tab(oTabBtn, oTabPane);
            }

            // 选择搭配价钱
            fittingPrice();
            function fittingPrice(){
                var oChooseAllPrice = document.querySelector(".good-suits .result .price");
                var oChooseAllCheckBoxs = document.querySelectorAll(".good-suits .suits input[type=checkbox]");
                oChooseAllCheckBoxs.forEach(function(item,index){
                    item.onchange = function(){
                        var oChoosePrice = document.querySelector(".good-suits .master p");
                        var choosePrice = parseInt(oChoosePrice.innerHTML.substr(1));
                        oChooseAllCheckBoxs.forEach(function(item){
                            if(item.checked){
                            choosePrice += parseInt(item.value);
                            }
                        })
                        oChooseAllPrice.innerHTML = "¥" + choosePrice;

                    }
                  
                })
                
            }
            // 详情页评论区Tab切换功能
            intro();
            function intro(){
                var oTabBtn = document.querySelectorAll(".outer .productDetail .detail .intro .tab-wraped li");
                var oTabPane = document.querySelectorAll(".outer .productDetail .detail .intro .tab-content .tab-pane");
                new Tab(oTabBtn,oTabPane);
            }

            // 侧边栏效果
            asideShow();
            function asideShow(){
                var oBut = document.querySelector(".outer .toolbar .but");
                var oToolBar = document.querySelector(".outer .toolbar");
                var flag = true;
                oBut.onclick = function(){
                    if (flag) {
                        oToolBar.className = "toolbar toolbar-out";
                        this.className = "but pull-wrap";
                    } else {
                        oToolBar.className = "toolbar toolbar-wrap";
                        this.className = "but list";
                    }
                    flag = !flag;
                }
                var oPull = document.querySelectorAll(".outer .pull");
                var oTabIcon = document.querySelectorAll(".outer .pull .tab-icon");
                var oTabText = document.querySelectorAll(".outer .pull em");
                for(var i = 0; i < oPull.length; i++){
                    oPull[i].index = i;
                    oPull[i].onmouseenter = function(){
                        oTabText[this.index].style.left = "-59px"
                        oTabIcon[this.index].style.backgroundColor = "#c81122"
                        oTabText[this.index].style.backgroundColor = "#c81122"
                    }
                    oPull[i].onmouseleave = function(){
                        oTabText[this.index].style.left = "35px"
                        oTabIcon[this.index].style.backgroundColor = "#7a6e6e"
                        oTabText[this.index].style.backgroundColor = "#7a6e6e"
                    }      
                }
               

            }
            

            // 加入购物车功能
            addCart();
            function addCart(){
                var oAdd = document.querySelector(".outer .con .mainCon .infoWrap .choose .cartWrap .add");
                oAdd.onclick = function(){
                    var goodImg = "./images/goods1.png";
                    var goodTitle = document.querySelector(".outer .con .mainCon .infoWrap .info1 .infoName").innerHTML;
                    var goodTxt = "国民最爱";
                    var goodPrice = parseFloat(document.querySelector(".outer .con .mainCon .infoWrap .info1 .priceArea .priceArea1 .price em").innerHTML);
                    var goodNum = document.querySelector(".outer .con .mainCon .infoWrap .choose .cartWrap .controls .itxt").value; 
                    var goodCon = {
                        goodImg: goodImg,
                        goodTitle: goodTitle,
                        goodTxt: goodTxt,
                        goodPrice: goodPrice,
                        goodNum: goodNum
                    }
                    localStorage.setItem("goodCon",JSON.stringify(goodCon));
                    location.href = "./cart.html";
                }
            }
        })

    </script>
</body>

</html>